<!doctype html>
<html lang="en">
	<head>
		<title>Terra Draw | MapLibre Starter</title>

		<!-- Required Styles & Script -->
		<link
			rel="stylesheet"
			href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
		/>
		<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
		<script src="https://unpkg.com/terra-draw@0.0.1-alpha.50/dist/terra-draw.umd.js"></script>

		<!-- Example Map is fullscreen -->
		<style>
			html,
			body,
			#map {
				margin: 0;
				height: 100%;
			}
		</style>
	</head>
	<body>
		<!-- Map Container (must have dimensions set!) -->
		<div id="map"></div>

		<script>
			const lng = -4.49049;
			const lat = 54.189649;
			const zoom = 6;

			// Create Leaflet Map, targetting <div id="map">
			// See https://leafletjs.com/reference.html
			var map = L.map("map").setView([lat, lng], zoom);

			// Add OpenStreetMap tiles
			L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png", {
				attribution:
					'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
			}).addTo(map);

			// Create Terra Draw
			const draw = new terraDraw.TerraDraw({
				adapter: new terraDraw.TerraDrawLeafletAdapter({
					// The leaflet map object
					map: map,

					// The leaflet library object
					lib: L,
				}),
				modes: [
					new terraDraw.TerraDrawFreehandMode(),
					new terraDraw.TerraDrawLineStringMode(),
					new terraDraw.TerraDrawCircleMode(),
					new terraDraw.TerraDrawGreatCircleMode(),
					new terraDraw.TerraDrawPointMode(),
					new terraDraw.TerraDrawPolygonMode(),
					new terraDraw.TerraDrawRectangleMode(),
				],
			});

			// Start drawing
			draw.start();

			// Set the mode to rectangle
			draw.setMode("freehand");
		</script>

		<!-- Examples UI -->
		<script src="./assets/examples.js"></script>
		<script>
			examplesUI(draw);
		</script>
	</body>
</html>